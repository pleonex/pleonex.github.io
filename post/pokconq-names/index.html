<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=generator content="Source Themes Academic 4.6.2"><meta name=author content="Benito Palacios (pleonex)"><meta name=description content="Research in the game PokÃ©mon Conquest from NDS to get the location of the NPC names and the relationship with each dialog box."><link rel=alternate hreflang=en-us href=https://pleonex.dev/post/pokconq-names/><meta name=theme-color content="hsl(43, 80%, 50%)"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.6/css/academicons.min.css integrity="sha256-uFVgMKfistnJAfoCUQigIl+JfUaP47GrRKjf6CTPVmw=" crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/styles/github.min.css crossorigin=anonymous title=hl-light><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/styles/github.min.css crossorigin=anonymous title=hl-dark disabled><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Montserrat:400,700%7CRoboto:400,400italic,700%7CRoboto+Mono&display=swap"><link rel=stylesheet href=/css/academic.css><link rel=manifest href=/index.webmanifest><link rel=icon type=image/png href=/img/icon-32.png><link rel=apple-touch-icon type=image/png href=/img/icon-192.png><link rel=canonical href=https://pleonex.dev/post/pokconq-names/><meta property="twitter:card" content="summary_large_image"><meta property="twitter:site" content="@pleonex"><meta property="twitter:creator" content="@pleonex"><meta property="og:site_name" content="Pleotonic Engineering"><meta property="og:url" content="https://pleonex.dev/post/pokconq-names/"><meta property="og:title" content="PokÃ©mon Conquest: NPC names | Pleotonic Engineering"><meta property="og:description" content="Research in the game PokÃ©mon Conquest from NDS to get the location of the NPC names and the relationship with each dialog box."><meta property="og:image" content="https://pleonex.dev/post/pokconq-names/featured.png"><meta property="twitter:image" content="https://pleonex.dev/post/pokconq-names/featured.png"><meta property="og:locale" content="en-us"><meta property="article:published_time" content="2019-12-25T15:59:04+01:00"><meta property="article:modified_time" content="2019-12-25T15:59:04+01:00"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://pleonex.dev/post/pokconq-names/"},"headline":"PokÃ©mon Conquest: NPC names","image":["https://pleonex.dev/post/pokconq-names/featured.png"],"datePublished":"2019-12-25T15:59:04+01:00","dateModified":"2019-12-25T15:59:04+01:00","author":{"@type":"Person","name":"Benito Palacios (pleonex)"},"publisher":{"@type":"Organization","name":"Pleotonic Engineering","logo":{"@type":"ImageObject","url":"https://pleonex.dev/img/icon-512.png"}},"description":"Research in the game PokÃ©mon Conquest from NDS to get the location of the NPC names and the relationship with each dialog box."}</script><link rel=stylesheet href=//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.0.3/cookieconsent.min.css><script src=https://cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.0.3/cookieconsent.min.js></script><script>window.addEventListener("load",function(){window.cookieconsent.initialise({"palette":{"popup":{"background":"hsl(43, 80%, 50%)","text":"#fff"},"button":{"background":"#fff","text":"hsl(43, 80%, 50%)"}},"theme":"classic","content":{"message":"This website DOES NOT use cookies but I have always wanted to have a web with this kind of message. ðŸ™ƒ\u003c/br\u003e Well, because of this message it does use cookies now. ðŸ¤”","dismiss":"Okay, okay... Let me close it. ðŸ˜…","link":"Learn more","href":"https://cookies.insites.com"}})});</script><title>PokÃ©mon Conquest: NPC names | Pleotonic Engineering</title></head><body id=top data-spy=scroll data-offset=70 data-target=#TableOfContents class=dark><aside class=search-results id=search><div class=container><section class=search-header><div class="row no-gutters justify-content-between mb-3"><div class=col-6><h1>Search</h1></div><div class="col-6 col-search-close"><a class=js-search href=#><i class="fas fa-times-circle text-muted" aria-hidden=true></i></a></div></div><div id=search-box><input name=q id=search-query placeholder=Search... autocapitalize=off autocomplete=off autocorrect=off spellcheck=false type=search></div></section><section class=section-search-results><div id=search-hits></div></section></div></aside><nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id=navbar-main><div class=container><a class=navbar-brand href=/>Pleotonic Engineering</a>
<button type=button class=navbar-toggler data-toggle=collapse data-target=#navbar-content aria-controls=navbar aria-expanded=false aria-label="Toggle navigation">
<span><i class="fas fa-bars"></i></span></button><div class="navbar-collapse main-menu-item collapse justify-content-start" id=navbar-content><ul class="navbar-nav d-md-inline-flex"><li class=nav-item><a class=nav-link href=/#about><span>Home</span></a></li><li class=nav-item><a class=nav-link href=/#experience><span>Experience</span></a></li><li class=nav-item><a class=nav-link href=/#posts><span>Posts</span></a></li><li class=nav-item><a class=nav-link href=/#talks><span>Talks</span></a></li><li class=nav-item><a class=nav-link href=/#projects><span>Projects</span></a></li><li class=nav-item><a class=nav-link href=/#translations><span>Translations</span></a></li><li class=nav-item><a class=nav-link href=/files/CV_BenitoPalacios.pdf><span>CV</span></a></li><li class=nav-item><a class=nav-link href=/#contact><span>Contact</span></a></li></ul></div><ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2"><li class=nav-item><a class="nav-link js-search" href=#><i class="fas fa-search" aria-hidden=true></i></a></li><li class=nav-item><a class="nav-link js-dark-toggle" href=#><i class="fas fa-moon" aria-hidden=true></i></a></li></ul></div></nav><article class=article><div class="article-container pt-3"><h1>PokÃ©mon Conquest: NPC names</h1><div class=article-metadata><div><span><a href=/authors/admin/>Benito Palacios (pleonex)</a></span></div><span class=article-date>Dec 25, 2019</span>
<span class=middot-divider></span><span class=article-reading-time>7 min read</span></div></div><div class="article-header article-container featured-image-wrapper mt-4 mb-4" style=max-width:512px;max-height:382px><div style=position:relative><img src=/post/pokconq-names/featured.png alt class=featured-image></div></div><div class=article-container><div class=article-style><h2 id=intro>Intro</h2><p>PokÃ©mon Conquest (NDS) is one of the games I would like to translate to Spanish. I have already created almost all the tools to extract, modify and insert the content. This time, I would like to focus in the story dialogs. Below is one example:</p><pre><code class=language-plain>{char:0058}{speaker_color:2}{char_img:0}
Hey, you!{wait:48}20 You're {name1}, right? {color:49}Aurora{color:51}'s new
Warlord?
</code></pre><p>If you take a closer look you will notice we are missing something: <strong>we don't know the name of the character speaking</strong>. This is a very important information for translators, because otherwise they are out of context. For instance, they won't know the gender of the person speaking (in Spanish we have male and female version of nouns and adjetives).</p><p>So let's try to figure out where are the names and how we can relate them to each dialog.</p><h2 id=the-location-of-the-names>The location of the names</h2><p>First, let's find out where are the names inside the game files. I will pick the name of the person speaking in the example dialog: <code>Koroku</code>. So let's open the game with an hexadecimal editor (I like <a href=https://mh-nexus.de/en/hxd/>HxD</a>) and search the text. The search returns that the text is located at <code>0x00185134</code>. We just need to know which game file is at that address. The easier method is to use <a href=https://github.com/pleonex/tinke/>Tinke</a>. We open the game with this program and type in the search box the magic words: <code>Offset: 00185134</code>. It will show us at this address we have the file <strong><code>BaseBushou.dat</code></strong>.</p><p><img src=hxd_search.png alt="The hexadecimal editor and Tinke"></p><p>We ran a quick test that this is indeed the file and field that we need to change by editing the name and importing back the file into the game.</p><p><img src=edit1.png alt="Game shows &lsquo;Pleonet&rsquo; instead of Koroku"></p><p>Voila. As you can see I changed in the file the name <code>Koroku</code> with <code>Pleonet</code> and now the latter is showing as the character speaking.</p><h2 id=matching-the-dialog-with-the-name>Matching the dialog with the name</h2><p>We know the file that contain the list of names. This is useful in case we want to change them. But we don't know who is speaking in the dialog yet. Let's check again the raw dialog text:</p><pre><code class=language-plain>{char:0058}{speaker_color:2}{char_img:0}
Hey, you!{wait:48}20 You're {name1}, right? {color:49}Aurora{color:51}'s new
Warlord?
</code></pre><p>There are a couple of interesting metadata in that dialog. In the actual game file they have binary bytes, but after some try-and-see changes I was able to determine that:</p><ul><li>By changing the first <code>00058</code> control code, the name of the person speaking changes. So I named it <code>char</code> from <em>character</em>.</li><li>The second control code, <code>2</code> in some cases changes the color of the person speaking changes. So <code>speaker_color</code>.</li><li>Finally, the third control code must be the sprite of the NPC. There are several per person to show different emotions, so I named it <code>char_img</code>.</li></ul><p>Clearly, the control code we should investigate further is the first one. Somehow the number <code>0058</code> is related to the text <code>Koroku</code>. We just need to know what kind of algorithm the game follows to get the text from the number. It's time to do some disassembly.</p><p><img src=setup_env.png alt="IDA Pro and DeSmuME opened"></p><p>As always, the easier method is to play until the game shows the dialog. Then, we search the text in the memory and put a read-breakpoint in the control code <code>char</code> (in binary <code>1B 40</code>), so we can start following the game logic to associate the number with the name. In my case the search returned three copies of the text: <code>0x020C3B66</code>, <code>0x020C4942</code> and <code>0x02263D4E</code>. So three breakpoint since we can't be sure which one the game will actually process.</p><p>The first one we expect to break is the third breakpoint because it contains the whole script in memory. This is probably the script file in memory. And from this location it will copy the text to another temporary places. And exactly as expected, I see that the game breaks there to copy our first control code argument <code>0058</code> into the temporary memory place (the stack): <code>0x02FE2F38</code>. One more breakpoint there.</p><p>From the copy in the stack, it copies now the text into the already-known location of our second breakpoint. So we continue, and the game starts doing something more interesting as shown below:</p><p><img src=convert_to_num.png alt="Algorithm to convert string into num"></p><p>This small algorithm convert the text into a number. The logic is simple: it substract each char <code>0x30</code> which is <code>0</code> in ASCII. So, <code>5</code> in ASCII is <code>0x35</code> minus <code>0x30</code> is <code>5</code>. It's this simple to convert a char into a number. Then it multiply the current result by 10 to move the result to the left and adds the next number.</p><p>The method iterates to try to find three control codes: <code>1B 40</code>, <code>1B 73</code> and <code>1B 66</code>. In order, they correspond to my named control codes: <code>char</code>, <code>speaker_color</code> and <code>char_img</code>. We found the subrouting that parse the first three control code that each dialog usually have. If the method is able to parse and convert each argument into a number, it stores the result in three output registers. For our number of interest, the result goes to another stack address: <code>0x02FE2F94</code>. Let's follow now this one.</p><p>The address was coming from the stack because is a variable from the caller (<code>SP + 0x14</code>). The first thing it does is to fail if the number is larger than <code>0x270F</code>. Then, it calls again the previous subroutine to parse the numbers, because why not making the game a bit slower? Hands in the next subroutine where it compares our number with <code>0x3E8</code>, gets the pointer to <code>0x022797F0</code> and go deep into the next function. The pointer seems to point to a game file, let's try to find it&mldr; And yes, it's the file <code>ScenarioBushou.dat</code>.</p><p><img src=tinke_search.png alt="Game reading file and search with HxD and Tinke"></p><p>Our target argument number is actually an index. The game multiplies this number by 0x20 and reads four bytes: <code>88021264</code>. It removes bits with bitwise shifts so it gets the bits from 17 to 21, in our case just <code>1</code>. And&mldr; it does nothing with the result. ðŸ˜¦ ðŸ˜‘</p><p>Back to the caller, there is still one more place where it can use our number. A few lines after, it checks if the number is between 0 and 1000. If this is the case, it gets again the pointer to <code>ScenarioBushou.dat</code> and call a new function: <code>0204FB80</code>.</p><p>It checks if the number is larger than <code>0xD1</code>, if that's the case it returns an empty string <code>\0</code>. It gets again our four bytes flag field, but this time it gets the first 9 bits: <code>64</code>. And just, before finishing this function, it gets the pointer to the file <code>BaseBushou</code> and start doing <em>things</em>.</p><p>If the number from the flag field is less than <code>0xFB</code>, it multiplies the number by <code>0x14</code> and read four bytes from the file at that location (address: <code>0x7D0</code>, content: <code>00967575</code>). It gets the bits from 17 to 25 which is <code>0x4B</code>. Now, from the file position <code>0x17A0</code>, it jumps to this last number multiply by <code>0x0C</code>: <code>0x02279188</code>.</p><p>Remember this address? Yes! It's pointing to our NPC name. Finally!</p><p><img src=name_id_logic.png alt="Assembly code with this last logic"></p><h2 id=summary>Summary</h2><p>This was a chaos of parsing and reading unncessary files and fields but at the end the logic is simple.
The argument of the control code in the dialog text (<code>0058</code>) is the index to an structure with fixed length 32 bytes in <code>ScenarioBushou.dat</code>. We are interested in the first 9 bits of this structure. So we multiply <code>0058</code> by <code>0x20</code> and get the first 9 bits: <code>0x64</code>. This is the index to another structure in <code>BaseBushou.dat</code> of fixed length 20 bytes. We multiply this second index by <code>0x14</code> and get the name index by reading the bits 17-25: <code>0x4B</code>. The name will be starting at <code>0x17A0</code> multiplying the name index by the name lengths (<code>0x0C</code>).</p><p><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="751" viewBox="-.5 -.5 751 601" content='&lt;mxfile host="Electron" modified="2019-12-25T19:35:28.161Z" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/12.4.2 Chrome/78.0.3904.130 Electron/7.1.4 Safari/537.36" etag="EaymEHoXLquEKWnW27Gp" version="12.4.2" type="device" pages="1">&lt;diagram name="Page-1" id="0783ab3e-0a74-02c8-0abd-f7b4e66b4bec">7Vptc6M2EP41nn5KBiHA9sfYeelN0+tNPXNtPsqggBIhuUKc7f76SiAMWNghl7Nxp81MPOxKCOnZfXZXghGcp5sHgVbJrzzCdOQ60WYEb0euOxk76lcrtqUi8P1SEQsSlSpQKxbkb2yU5r44JxHOWh0l51SSVVsZcsZwKFs6JARft7s9c9p+6grF2FIsQkRt7R8kkolZlu/U+p8xiZPqycAxLUsUvsaC58w8b+TC5+KvbE5RNZbpnyUo4uuGCt6N4FxwLsurdDPHVENbwVbed3+gdTdvgZnsdUMIIm/qhQBMAgdG0ZUZ4RuiucHiC38dzeHoZppyplrmnP2V40yqyyv1/4D11ecvc/XLUIrNsuS2gjJbk5QipqRZIlOqlEBdhgmh0SPa8lxPM5MKtkqaKUlI4xNq+nBW4In1jLW0g0wLIU9JaK4pWmI62xlgzikXqonx4uGZFPx1Z009h2fO5D1KCdVO+hWLCDFk1ObpQNljhiiJmRJCBSlWA84iIpTPEa6VGGV6yjbsFY5YSLxpqIwZHjBPsRRb1cW0esYjDGNcaOR17X/jyv+Shu8Flesh4/Pxbuja7urCmL6nG7iWGyxCQVba1s+E9rWyZckOnA454NvAVUjZQLldQPmTI0CZ0X9XhkUs1gs8MjzsGN2De6MjqryFIYln2hkzyxq7hfQyUPLqQHf71Zk8RL/Mnhwn++3x9SqwzIAjFcaMyIVMeMwZone1do9LdZ9HzlfGai9Yyq2xGsolb9u0fKZ+0MGQc8ibMp6LEB9ZEDShHokYyyP9vG6HEJgiSb61J/YRWhybZIMatwRRHhc5Suc8kq0o2lq2qZHXMK4TIvFihQo81iqJdqFskaAPzgcjTOC3IkxHgAFuh2fvO/YPA7JK9uf1X7wh8k99+7VvpKdGy+3GjFwI20pgar2Nm7T41Gyrbyuk6r5TcsXryZXxkFzxLK7cE1UaqWknuCzfVFamxVWkFUBB5ni2X7StPgB3xm3uTDu443TlnFNxZ2oB+5kPyqYGl2pmdbPplKwY92TFZEhWALu6esLZkOYD7zBfMxhqEBvh8Fot9o2QWEhfsCAKSl1NX4xHgANV5nlcYmwHynITeW/HwoSnyzwbJg5O3et2JASBHQqrQqO9TTkRchO7HOPsJ9ksxLo3poPXY/tQdlVk066k4p8qLnVs/pHIdGJWRa9zs5h/+qRzdaKUeixW1LtIA5ynS83mG62+vOwN/L3NtTvphXTgfhxpa6r2/mERYoYE4bM8S3h+HSFpQTjE/rpy033wfsR++2N+Oh0kV37nJsA+ePqedAd7pjsQ9M13w5ZAgZ3wmjsDcqXQ0hYWeShzoVX8eaQPnzZY98q0lVxdbrjOcis7qqczBB14lDfBfnT3LN507rdPtmcAdqosT29LyJdE6qjuqIxaxPGXi4cUgp5HGN7JIB0PEok+VLW3K3b/LNEL9I1e1cueN6NXcKboZS3FPtKYoQxfZur2nUtL3VXh9V9K3V5P53f7Hum5/pCp233jUO+lX+rWvjhc6j7wBuHQSbk/cOqGwxyV/zto4/elzXRQ2vh9qi8w1h2L+otdPi8mQ9dfEFog/c+Llrv34AU8cHhyJl7YrzJa6YSV6aQ8wuvMJKCxCXSKuoow/TZW12KOswHjm0FeKL2LSp7fk0onO0eFrmWH28EPUN+Foe/1xPBkb7QhsEA6azi66K3dpG+aPtHXHUqsv6srP8Gpv12Ed/8A&lt;/diagram>&lt;/mxfile>' onclick="(function(svg){var src=window.event.target||window.event.srcElement;while (src!=null&amp;&amp;src.nodeName.toLowerCase()!='a'){src=src.parentNode;}if(src==null){if(svg.wnd!=null&amp;&amp;!svg.wnd.closed){svg.wnd.focus();}else{var r=function(evt){if(evt.data=='ready'&amp;&amp;evt.source==svg.wnd){svg.wnd.postMessage(decodeURIComponent(svg.getAttribute('content')),'*');window.removeEventListener('message',r);}};window.addEventListener('message',r);svg.wnd=window.open('https://www.draw.io/?client=1&amp;lightbox=1&amp;edit=_blank');}}})(this);" style="cursor:pointer;max-width:100%;max-height:601px"><defs/><g><path d="M0 20V0H750V20" fill="#fff" stroke="#000" stroke-miterlimit="10" pointer-events="all"/><path d="M0 20V6e2H750V20" fill="none" stroke="#000" stroke-miterlimit="10" pointer-events="none"/><path d="M0 20H750" fill="none" stroke="#000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(254.5,4.5)"><switch><foreignObject style="overflow:visible" pointer-events="none" width="240" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;font-size:12px;font-family:Verdana;color:#000;line-height:1.2;vertical-align:top;white-space:nowrap;font-weight:700;text-align:center"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit">PokÃ©mon Conquest - Get NPC name</div></div></foreignObject><text x="120" y="12" fill="#000" text-anchor="middle" font-size="12" font-family="Verdana" font-weight="bold">PokÃ©mon Conquest - Get NPC name</text></switch></g><path d="M0 40V20H250V40" fill="#fff" stroke="#000" stroke-miterlimit="10" pointer-events="none"/><path d="M0 40V6e2H250V40" fill="none" stroke="#000" stroke-miterlimit="10" pointer-events="none"/><path d="M0 40H250" fill="none" stroke="#000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(97.5,24.5)"><switch><foreignObject style="overflow:visible" pointer-events="none" width="55" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;font-size:12px;font-family:Helvetica;color:#000;line-height:1.2;vertical-align:top;white-space:nowrap;font-weight:700;text-align:center"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit">Script file</div></div></foreignObject><text x="28" y="12" fill="#000" text-anchor="middle" font-size="12" font-family="Helvetica" font-weight="bold">Script file</text></switch></g><path d="M125 80v20V90 103.63" fill="none" stroke="#000" stroke-miterlimit="10" pointer-events="none"/><path d="M125 108.88l-3.5-7 3.5 1.75 3.5-1.75z" fill="#000" stroke="#000" stroke-miterlimit="10" pointer-events="none"/><rect x="65" y="50" width="120" height="30" rx="4.5" ry="4.5" fill="#fff" stroke="#000" pointer-events="none"/><g transform="translate(80.5,58.5)"><switch><foreignObject style="overflow:visible" pointer-events="none" width="88" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;font-size:12px;font-family:Helvetica;color:#000;line-height:1.2;vertical-align:top;width:89px;white-space:nowrap;overflow-wrap:normal;text-align:center"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal">Dialog to display</div></div></foreignObject><text x="44" y="12" fill="#000" text-anchor="middle" font-size="12" font-family="Helvetica">Dialog to display</text></switch></g><path d="M125 160V173.63" fill="none" stroke="#000" stroke-miterlimit="10" pointer-events="none"/><path d="M125 178.88l-3.5-7 3.5 1.75 3.5-1.75z" fill="#000" stroke="#000" stroke-miterlimit="10" pointer-events="none"/><rect x="75" y="110" width="100" height="50" fill="#fff" stroke="#000" pointer-events="none"/><g transform="translate(76.5,121.5)"><switch><foreignObject style="overflow:visible" pointer-events="none" width="96" height="26" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;font-size:12px;font-family:Helvetica;color:#000;line-height:1.2;vertical-align:top;width:96px;white-space:nowrap;overflow-wrap:normal;text-align:center"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal">Find the control code 1B 40</div></div></foreignObject><text x="48" y="19" fill="#000" text-anchor="middle" font-size="12" font-family="Helvetica">Find the control code 1B 40</text></switch></g><path d="M93 210H48V243.63" fill="none" stroke="#000" stroke-miterlimit="10" pointer-events="none"/><path d="M48 248.88l-3.5-7 3.5 1.75 3.5-1.75z" fill="#000" stroke="#000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(42.5,204.5)"><switch><foreignObject style="overflow:visible" pointer-events="none" width="14" height="11" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;font-size:11px;font-family:Helvetica;color:#000;line-height:1.2;vertical-align:top;white-space:nowrap;text-align:center"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;background-color:#fff">No</div></div></foreignObject><text x="7" y="11" fill="#000" text-anchor="middle" font-size="11" font-family="Helvetica">No</text></switch></g><path d="M158 210h39V243.63" fill="none" stroke="#000" stroke-miterlimit="10" pointer-events="none"/><path d="M197 248.88l-3.5-7 3.5 1.75 3.5-1.75z" fill="#000" stroke="#000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(187.5,205.5)"><switch><foreignObject style="overflow:visible" pointer-events="none" width="18" height="11" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;font-size:11px;font-family:Helvetica;color:#000;line-height:1.2;vertical-align:top;white-space:nowrap;text-align:center"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;background-color:#fff">Yes</div></div></foreignObject><text x="9" y="11" fill="#000" text-anchor="middle" font-size="11" font-family="Helvetica">Yes</text></switch></g><path d="M125 180l32.5 30L125 240 92.5 210z" fill="#fff" stroke="#000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(104.5,203.5)"><switch><foreignObject style="overflow:visible" pointer-events="none" width="41" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;font-size:12px;font-family:Helvetica;color:#000;line-height:1.2;vertical-align:top;width:42px;white-space:nowrap;overflow-wrap:normal;text-align:center"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal">Found?</div></div></foreignObject><text x="21" y="12" fill="#000" text-anchor="middle" font-size="12" font-family="Helvetica">Found?</text></switch></g><rect x="2.5" y="250" width="90" height="55" rx="8.25" ry="8.25" fill="#fff" stroke="#000" pointer-events="none"/><g transform="translate(4.5,264.5)"><switch><foreignObject style="overflow:visible" pointer-events="none" width="86" height="26" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;font-size:12px;font-family:Helvetica;color:#000;line-height:1.2;vertical-align:top;width:86px;white-space:nowrap;overflow-wrap:normal;text-align:center"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal">Don't display name</div></div></foreignObject><text x="43" y="19" fill="#000" text-anchor="middle" font-size="12" font-family="Helvetica">Don't display name</text></switch></g><rect x="150" y="248" width="90" height="62" fill="#fff" stroke="#000" pointer-events="none"/><g transform="translate(151.5,258.5)"><switch><foreignObject style="overflow:visible" pointer-events="none" width="86" height="40" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;font-size:12px;font-family:Helvetica;color:#000;line-height:1.2;vertical-align:top;width:86px;white-space:nowrap;overflow-wrap:normal;text-align:center"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal">Parse 3 ASCII chars into a number: i</div></div></foreignObject><text x="43" y="26" fill="#000" text-anchor="middle" font-size="12" font-family="Helvetica">[Not supported by viewer]</text></switch></g><path d="M250 40V20H5e2V40" fill="#fff" stroke="#000" stroke-miterlimit="10" pointer-events="none"/><path d="M250 40V6e2H5e2V40" fill="none" stroke="#000" stroke-miterlimit="10" pointer-events="none"/><path d="M250 40H5e2" fill="none" stroke="#000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(316.5,24.5)"><switch><foreignObject style="overflow:visible" pointer-events="none" width="117" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;font-size:12px;font-family:Helvetica;color:#000;line-height:1.2;vertical-align:top;white-space:nowrap;font-weight:700;text-align:center"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit">ScenarioBushou.dat</div></div></foreignObject><text x="59" y="12" fill="#000" text-anchor="middle" font-size="12" font-family="Helvetica" font-weight="bold">ScenarioBushou.dat</text></switch></g><path d="M375 304v20-14V323.63" fill="none" stroke="#000" stroke-miterlimit="10" pointer-events="none"/><path d="M375 328.88l-3.5-7 3.5 1.75 3.5-1.75z" fill="#000" stroke="#000" stroke-miterlimit="10" pointer-events="none"/><rect x="315" y="254" width="120" height="50" fill="#fff" stroke="#000" pointer-events="none"/><g transform="translate(316.5,265.5)"><switch><foreignObject style="overflow:visible" pointer-events="none" width="116" height="26" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;font-size:12px;font-family:Helvetica;color:#000;line-height:1.2;vertical-align:top;width:116px;white-space:nowrap;overflow-wrap:normal;text-align:center"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal">Find the i-th structure of fixed size 32 bytes</div></div></foreignObject><text x="58" y="19" fill="#000" text-anchor="middle" font-size="12" font-family="Helvetica">Find the i-th structure of fixed size 32 bytes</text></switch></g><rect x="315" y="330" width="120" height="40" fill="#fff" stroke="#000" pointer-events="none"/><g transform="translate(329.5,343.5)"><switch><foreignObject style="overflow:visible" pointer-events="none" width="91" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;font-size:12px;font-family:Helvetica;color:#000;line-height:1.2;vertical-align:top;width:92px;white-space:nowrap;overflow-wrap:normal;text-align:center"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal">Get the bits 0-8: j</div></div></foreignObject><text x="46" y="12" fill="#000" text-anchor="middle" font-size="12" font-family="Helvetica">Get the bits 0-8: j</text></switch></g><path d="M240 279h68.63" fill="none" stroke="#000" stroke-miterlimit="10" pointer-events="none"/><path d="M313.88 279l-7 3.5 1.75-3.5-1.75-3.5z" fill="#000" stroke="#000" stroke-miterlimit="10" pointer-events="none"/><path d="M5e2 40V20H750V40" fill="#fff" stroke="#000" stroke-miterlimit="10" pointer-events="none"/><path d="M5e2 40V6e2H750V40" fill="none" stroke="#000" stroke-miterlimit="10" pointer-events="none"/><path d="M5e2 40H750" fill="none" stroke="#000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(577.5,24.5)"><switch><foreignObject style="overflow:visible" pointer-events="none" width="95" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;font-size:12px;font-family:Helvetica;color:#000;line-height:1.2;vertical-align:top;white-space:nowrap;font-weight:700;text-align:center"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit">BaseBushou.dat</div></div></foreignObject><text x="48" y="12" fill="#000" text-anchor="middle" font-size="12" font-family="Helvetica" font-weight="bold">BaseBushou.dat</text></switch></g><path d="M625 375v20-15V393.63" fill="none" stroke="#000" stroke-miterlimit="10" pointer-events="none"/><path d="M625 398.88l-3.5-7 3.5 1.75 3.5-1.75z" fill="#000" stroke="#000" stroke-miterlimit="10" pointer-events="none"/><rect x="565" y="325" width="120" height="50" fill="#fff" stroke="#000" pointer-events="none"/><g transform="translate(566.5,336.5)"><switch><foreignObject style="overflow:visible" pointer-events="none" width="116" height="26" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;font-size:12px;font-family:Helvetica;color:#000;line-height:1.2;vertical-align:top;width:116px;white-space:nowrap;overflow-wrap:normal;text-align:center"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal">Find the j-th structure of fixed size 20 bytes</div></div></foreignObject><text x="58" y="19" fill="#000" text-anchor="middle" font-size="12" font-family="Helvetica">Find the j-th structure of fixed size 20 bytes</text></switch></g><path d="M625 440v20-10V463.63" fill="none" stroke="#000" stroke-miterlimit="10" pointer-events="none"/><path d="M625 468.88l-3.5-7 3.5 1.75 3.5-1.75z" fill="#000" stroke="#000" stroke-miterlimit="10" pointer-events="none"/><rect x="565" y="400" width="120" height="40" fill="#fff" stroke="#000" pointer-events="none"/><g transform="translate(570.5,413.5)"><switch><foreignObject style="overflow:visible" pointer-events="none" width="109" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;font-size:12px;font-family:Helvetica;color:#000;line-height:1.2;vertical-align:top;width:110px;white-space:nowrap;overflow-wrap:normal;text-align:center"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal">Get the bits 17-25: n</div></div></foreignObject><text x="55" y="12" fill="#000" text-anchor="middle" font-size="12" font-family="Helvetica">Get the bits 17-25: n</text></switch></g><path d="M625 530v20-10V553.63" fill="none" stroke="#000" stroke-miterlimit="10" pointer-events="none"/><path d="M625 558.88l-3.5-7 3.5 1.75 3.5-1.75z" fill="#000" stroke="#000" stroke-miterlimit="10" pointer-events="none"/><rect x="565" y="470" width="120" height="60" fill="#fff" stroke="#000" pointer-events="none"/><g transform="translate(566.5,479.5)"><switch><foreignObject style="overflow:visible" pointer-events="none" width="116" height="40" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;font-size:12px;font-family:Helvetica;color:#000;line-height:1.2;vertical-align:top;width:116px;white-space:nowrap;overflow-wrap:normal;text-align:center"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal">Find the n-th name of fixed size 12 bytes starting at 0x17A0</div></div></foreignObject><text x="58" y="26" fill="#000" text-anchor="middle" font-size="12" font-family="Helvetica">[Not supported by viewer]</text></switch></g><rect x="565" y="560" width="120" height="30" rx="4.5" ry="4.5" fill="#fff" stroke="#000" pointer-events="none"/><g transform="translate(588.5,568.5)"><switch><foreignObject style="overflow:visible" pointer-events="none" width="73" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;font-size:12px;font-family:Helvetica;color:#000;line-height:1.2;vertical-align:top;width:74px;white-space:nowrap;overflow-wrap:normal;text-align:center"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal">Display name</div></div></foreignObject><text x="37" y="12" fill="#000" text-anchor="middle" font-size="12" font-family="Helvetica">Display name</text></switch></g><path d="M435 350H558.63" fill="none" stroke="#000" stroke-miterlimit="10" pointer-events="none"/><path d="M563.88 350l-7 3.5 1.75-3.5-1.75-3.5z" fill="#000" stroke="#000" stroke-miterlimit="10" pointer-events="none"/></g></svg></p></div><div class=article-tags><a class="badge badge-light" href=/tags/reverse-engineering/>reverse-engineering</a></div><div class=share-box aria-hidden=true><ul class=share><li><a href="https://twitter.com/intent/tweet?url=https://pleonex.dev/post/pokconq-names/&text=Pok%c3%a9mon%20Conquest:%20NPC%20names" target=_blank rel=noopener class=share-btn-twitter><i class="fab fa-twitter"></i></a></li><li><a href="https://www.facebook.com/sharer.php?u=https://pleonex.dev/post/pokconq-names/&t=Pok%c3%a9mon%20Conquest:%20NPC%20names" target=_blank rel=noopener class=share-btn-facebook><i class="fab fa-facebook"></i></a></li><li><a href="mailto:?subject=Pok%c3%a9mon%20Conquest:%20NPC%20names&body=https://pleonex.dev/post/pokconq-names/" target=_blank rel=noopener class=share-btn-email><i class="fas fa-envelope"></i></a></li><li><a href="https://www.linkedin.com/shareArticle?url=https://pleonex.dev/post/pokconq-names/&title=Pok%c3%a9mon%20Conquest:%20NPC%20names" target=_blank rel=noopener class=share-btn-linkedin><i class="fab fa-linkedin-in"></i></a></li><li><a href="https://web.whatsapp.com/send?text=Pok%c3%a9mon%20Conquest:%20NPC%20names%20https://pleonex.dev/post/pokconq-names/" target=_blank rel=noopener class=share-btn-whatsapp><i class="fab fa-whatsapp"></i></a></li><li><a href="https://service.weibo.com/share/share.php?url=https://pleonex.dev/post/pokconq-names/&title=Pok%c3%a9mon%20Conquest:%20NPC%20names" target=_blank rel=noopener class=share-btn-weibo><i class="fab fa-weibo"></i></a></li></ul></div><div class="media author-card content-widget-hr"><img class="portrait mr-3" src=/authors/admin/avatar_hucd8fb9bf3bd2a9dbf059dcc40ce4e71d_43725_250x250_fill_q90_lanczos_center.jpg alt=Avatar><div class=media-body><h5 class=card-title><a href=https://pleonex.dev>Benito Palacios (pleonex)</a></h5><h6 class=card-subtitle>Software Developer</h6><p class=card-text>Electrical engineer. C# / Python. Localization engineering, ROM Hacking and reverse engineering. Creating the ultimate fan-translation framework SceneGate.</p><ul class=network-icon aria-hidden=true><li><a href=mailto:pleonex@protonmail.com><i class="fas fa-envelope"></i></a></li><li><a href=https://github.com/pleonex target=_blank rel=noopener><i class="fab fa-github"></i></a></li><li><a href=/files/CV_BenitoPalacios.pdf><i class="ai ai-cv"></i></a></li><li><a href=https://www.linkedin.com/in/pleonex target=_blank rel=noopener><i class="fab fa-linkedin"></i></a></li><li><a href=https://join.skype.com/invite/jK7w8zSNZFB6 target=_blank rel=noopener><i class="fab fa-skype"></i></a></li><li><a href=https://twitter.com/pleonex target=_blank rel=noopener><i class="fab fa-twitter"></i></a></li></ul></div></div><div class="article-widget content-widget-hr"><h3>Related</h3><ul><li><a href=/project/airorom/>Dissertation</a></li><li><a href=/talk/rh02-img/>ROM Hacking Level 02: ImÃ¡genes</a></li><li><a href=/talk/rh01-text/>ROM Hacking Level 01: Textos</a></li><li><a href=/talk/jasyp18/>Destripando juegos: protecciones anti ROM Hacking</a></li><li><a href=/project/yarhl/>Yarhl</a></li></ul></div></div></article><script src=/js/mathjax-config.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/mermaid/8.3.1/mermaid.min.js integrity="sha256-vOIuDSYDirTfyr+S2MjFnhOz6Rgiz4ODFAHATG0rFxw=" crossorigin=anonymous title=mermaid></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/highlight.min.js integrity="sha256-1zu+3BnLYV9LdiY85uXMzii3bdrkelyp37e0ZyTAQh0=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/languages/cs.min.js></script><script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js integrity crossorigin=anonymous async></script><script>const code_highlighting=true;</script><script>const search_config={"indexURI":"/index.json","minLength":1,"threshold":0.3};const i18n={"no_results":"No results found","placeholder":"Search...","results":"results found"};const content_type={'post':"Posts",'project':"Projects",'publication':"Publications",'talk':"Talks"};</script><script id=search-hit-fuse-template type=text/x-template>
      <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
      </div>
    </script><script src=https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin=anonymous></script><script src=/js/academic.min.bcfae8267aba63cc55af53a503896bd9.js></script><div class=container><footer class=site-footer><p class=powered-by>Copytight Â© 2019 Benito Palacios SÃ¡nchez &#183;
Powered by the
<a href=https://sourcethemes.com/academic/ target=_blank rel=noopener>Academic theme</a> for
<a href=https://gohugo.io target=_blank rel=noopener>Hugo</a>.
<span class=float-right aria-hidden=true><a href=# class=back-to-top><span class=button_icon><i class="fas fa-chevron-up fa-2x"></i></span></a></span></p></footer></div><div id=modal class="modal fade" role=dialog><div class=modal-dialog><div class=modal-content><div class=modal-header><h5 class=modal-title>Cite</h5><button type=button class=close data-dismiss=modal aria-label=Close>
<span aria-hidden=true>&#215;</span></button></div><div class=modal-body><pre><code class="tex hljs"></code></pre></div><div class=modal-footer><a class="btn btn-outline-primary my-1 js-copy-cite" href=# target=_blank><i class="fas fa-copy"></i>Copy</a>
<a class="btn btn-outline-primary my-1 js-download-cite" href=# target=_blank><i class="fas fa-download"></i>Download</a><div id=modal-error></div></div></div></div></div></body></html>